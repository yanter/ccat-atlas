import{a as L}from"./index.BxY9dVzG.js";const f=()=>{const l=document.querySelector(".marquee-top"),i=document.querySelector(".marquee-middle"),r=document.querySelector(".marquee-bottom"),a=document.querySelector(".marquee-wrapper");l?.addEventListener("mouseover",()=>{a?.classList.contains("lightbox-active")||l.querySelectorAll(".animate-marquee-gallery").forEach(e=>{e.classList.add("pause")})}),i?.addEventListener("mouseover",()=>{a?.classList.contains("lightbox-active")||i.querySelectorAll(".animate-marquee-gallery").forEach(e=>{e.classList.add("pause")})}),r?.addEventListener("mouseover",()=>{a?.classList.contains("lightbox-active")||r.querySelectorAll(".animate-marquee-gallery").forEach(e=>{e.classList.add("pause")})}),l?.addEventListener("mouseout",()=>{a?.classList.contains("lightbox-active")||l.querySelectorAll(".animate-marquee-gallery").forEach(e=>{e.classList.remove("pause")})}),i?.addEventListener("mouseout",()=>{a?.classList.contains("lightbox-active")||i.querySelectorAll(".animate-marquee-gallery").forEach(e=>{e.classList.remove("pause")})}),r?.addEventListener("mouseout",()=>{a?.classList.contains("lightbox-active")||r.querySelectorAll(".animate-marquee-gallery").forEach(e=>{e.classList.remove("pause")})})},v=()=>{const l=document.querySelectorAll(".gallery-image"),i=document.getElementById("lightbox-overlay"),r=document.getElementById("lightbox-backdrop"),a=document.getElementById("lightbox-image"),e=document.getElementById("lightbox-container"),q=document.getElementById("close-lightbox"),y=document.querySelector(".marquee-wrapper");let o=null,s=null,h=!1;const x=()=>{document.querySelectorAll(".animate-marquee-gallery").forEach(t=>{t.classList.add("pause")})},b=()=>{h||document.querySelectorAll(".animate-marquee-gallery").forEach(t=>{t.classList.remove("pause")})},E=t=>{s=t.currentTarget,o=s.getBoundingClientRect(),h=!0,y?.classList.add("lightbox-active"),a.src=s.src,w(),i?.classList.replace("hidden","flex"),x();const n=new Image;n.onload=()=>{const c=n.naturalWidth/n.naturalHeight,d=Math.min(window.innerWidth*.9,n.naturalWidth),p=Math.min(window.innerHeight*.9,n.naturalHeight);let m,g;d/c<=p?(m=d,g=d/c):(g=p,m=p*c);const A=(window.innerHeight-g)/2,I=(window.innerWidth-m)/2;S(A,I,m,g)},n.src=s.src},w=()=>{!e||!o||!a||!s||(a.classList.remove("object-contain"),a.classList.add("object-cover"),Object.assign(e.style,{position:"fixed",top:`${o.top}px`,left:`${o.left}px`,width:`${o.width}px`,height:`${o.height}px`,zIndex:"100",transform:"none"}))},S=async(t,n,c,d)=>{!i||!e||!a||!s||!o||(r.style.opacity="1",s.style.opacity="0",await L(e,{top:[o.top,t],left:[o.left,n],width:[o.width,c],height:[o.height,d]},{duration:.4,ease:"easeInOut"}).finished,a.classList.remove("object-cover"),a.classList.add("object-contain"))},u=async()=>{if(!s||!o||!a||!e||!i)return;a.classList.remove("object-contain"),a.classList.add("object-cover");const t=s.getBoundingClientRect();r.style.opacity="0";const n=s;e.style.zIndex="100",await L(e,{top:t.top,left:t.left,width:t.width,height:t.height},{duration:.4,ease:"easeInOut"}).finished,setTimeout(()=>{n.style.opacity="1",i?.classList.replace("flex","hidden"),e.removeAttribute("style"),s=null,o=null,h=!1,y?.classList.remove("lightbox-active"),b()},410)};l.forEach(t=>{t.addEventListener("click",E)}),q?.addEventListener("click",u),i?.addEventListener("click",t=>{(t.target===i||t.target===r)&&u()}),r?.addEventListener("click",()=>{u()}),document.addEventListener("keydown",t=>{t.key==="Escape"&&i&&!i.classList.contains("hidden")&&u()})};f();v();document.addEventListener("astro:after-swap",()=>{f(),v()});
